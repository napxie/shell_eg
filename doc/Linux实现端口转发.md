# Linux实现端口转发

本文讲述了如何在Linux下实现端口转发，以实现通过VPN连接至远端开放给VPN连接的计算机后，如何通过该计算机代理访问远端内网中其它计算机。

情景是这样的，A公司给B公司开发了项目，之后需要对B公司的项目进行维护，而该项目是在B公司内网中才能访问的，A公司需要有办法能够连接到B公司才能对项目进行维护，因此，B公司管理员给A公司开放了VPN，但是限制只能访问项目所在服务器，而不能访问其他服务器，现在A公司需要对B公司的该项目进行维护，需要维护数据库中的一些信息，但是数据库与项目不再同一个服务器上，因此，无法直接访问数据库服务器。

于是就有了下面的办法，用B公司开放的服务器做端口转发，将A公司对B公司数据库服务器的访问请求，通过开放服务器转发到数据库服务器，间接实现对数据库服务器的访问。

<!--more-->

安装rinetd服务

    http://www.boutell.com/rinetd/

配置转发规则

    vi /etc/rinetd.conf

规则内容为：

    本机IP地址    本机端口A    目标IP地址    目标端口

规则生效

    pkill rinetd
    rinetd -c /etc/rinetd.conf

查看地址映射

    netstat -antup

接下来，在A公司这边就可以通过访问该开放服务器的【端口A】实现对B公司数据库服务器的访问了。


